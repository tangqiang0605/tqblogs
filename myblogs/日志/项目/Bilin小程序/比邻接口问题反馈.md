# 问题反馈

## 核心功能

接口名：点聚合

问题：

地图上的每个点都有一个数字，表示发布在这个位置的贴子数目。接口中pointCount应该是指这个意思（接口文档中的描述是聚合的点数，如果意思是指贴子数目则是正确的，如果是指聚合了多少个点，这是不对的）。

clusterId的作用是点击地图上的点时，前端会根据该id获取属于该id的贴子（文档中没有这个接口）。



接口名：根据点的id获取属于该点的贴子

问题：没有该接口。备注：该接口应该至少输入两个参数，一个是点的id，一个是**贴子的类型**，比如获取地图上点id为12中的动态贴子（或全部贴子、活动贴子等）



接口名：无

问题：点聚合问题。这条是建议。小程序中每个贴子都有属于自己的地点。在没有聚合的情况下，点击地图的点就可以直接确定该点的所有贴子，如果是聚合点，那么该聚合点应该记录该聚合点包含的所有普通点，点击该聚合点时，根据里面的普通点获取所有贴子。也可以有其他的实现情况。



## 建议功能

接口名：通过内容搜索

描述：搜索范围内的贴子逻辑不是很通顺。建议的逻辑应该是，当用户搜索内容时，以用户为中心，搜索所有符合的贴子，按照距离从近到远返回n条贴子，当用户滑动到底部，再次发送请求。可以按照这个逻辑写一个新的接口，参数至少有：搜索的内容、排序的方式（按距离、按推荐度）、筛选类型（全部、活动、动态、失物等）、返回条数、页数。参考：[WebService API | 腾讯位置服务 (qq.com)](https://lbs.qq.com/service/webService/webServiceGuide/webServiceSearch)。



接口名：查看全部、获取推荐、获取附近（筛选）活动、获取附近等

描述：这些接口跟“通过内容搜索”接口的建议一样，应该以用户为中心范围查找。但是建议功能中的提到的所有接口还是可以继续使用。